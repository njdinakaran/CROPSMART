<html>
    <head>
        <title>
            CropSmart - Weed prediction
        </title>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/weed_predictstyle.css') }}">

    <!-- <link rel="stylesheet" type="text/css" href="css/weed_predictstyle.css"> -->
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">

    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;1,500&family=Roboto:ital,wght@0,300;1,300;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    </head>

    <body>
        <header>
            <a href="#" class="logo">CropSmart</a>
        
            <ul class="navlist">
                <li><a href="#" class="home" onclick="movehome()">Home</a></li>
                <li><a href="#" class="home" onclick="movecrop()">Crop Recommendation</a></li>
                <li><a href="#" class="home" onclick="movepest()">Pest Identification</a></li>
            </ul>
        
            <div class="bx bx-menu" id="menu-icon"></div>
          </header>
          <div class="container">
            <h2>Weed Prediction</h2>

            <form class="form-horizontal" action="/submit" method="post" enctype="multipart/form-data">
            <label>Upload your image</label>
            <input type="file" name="my_image" id="imageInput" accept="image/*" capture="camera" onchange="displayImage(event)">
            <br>
            <img id="displayedImage" style="max-width: 100%; height: auto; display: none;">
            <br>
            <button type="submit" class="btn btn-success">Submit</button>
        </form>
        </div>


          </body>

          <script>
            function getCityFromUrl() {
            const params = new URLSearchParams(window.location.search);
            return params.get('city');
            }

            window.onload = function() {
            const city = getCityFromUrl();
            };

            function movehome(){
                window.location.href = `index.html?city=${encodeURIComponent(city)}`;
            }
            function movepest(){
                window.location.href = `pest_predict.html?city=${encodeURIComponent(city)}`;
            }
            function movecrop(){
                window.location.href = `crop_predict.html?city=${encodeURIComponent(city)}`;
            }
            
            function displayImage(event) {
            const input = event.target;
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const displayedImage = document.getElementById('displayedImage');
                    displayedImage.src = e.target.result;
                    displayedImage.style.display = 'block';
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

          </script>
</html>